<ion-header>
    <ion-navbar  primary>
        <ion-title>
            {{target}}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding class="entreprise">
    <!--ion-card [hidden]="!noCompany">
        <ion-card-content>
            Aucune entreprise n'est associée à cette opportunité
        </ion-card-content>
    </ion-card-->

    <ion-card class="mainCard">
        <ion-card>
            <ion-card-header>Retrouvez un {{target}}</ion-card-header>
            <ion-row>
                <ion-col width-80 style="padding-right: 0px;">
                        <ion-input placeholder="Nom, numéro de téléphone, ..." [(ngModel)]="searchText"></ion-input>
                </ion-col>
                <ion-col width-20>
                    <button clear primary (click)="search()">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col text-center>
                    <ion-spinner style="font-size: xx-large" [hidden]="!loadingSearch"></ion-spinner>
                </ion-col>
            </ion-row>
            <ion-card [hidden]="accountFound">
                <ion-card-content>
                    {{noResultMessage}}
                </ion-card-content>
            </ion-card>
            <ion-list [hidden]="!listShowed" text-wrap>
                <button *ngFor="let e of accounts" ion-item (click)="selectAccount(e)">
                    <ion-icon name="cube"></ion-icon>&nbsp;{{e.companyName}}
                    {{e.fullName}}
                    <p>{{e.tel}}</p>
                    <p>{{e.email}}</p>
                </button>
                <button ion-item [hidden]="accounts.length==0" (click)="createCompany()" style="color: #eca713;">
                    {{(target==='Employeur')? 'Ajouter une nouvelle entreprise ?' : 'Ajouter un nouveau jobyer ?'}}
                </button>
            </ion-list>
            <ion-card [hidden]="noCompany || listShowed">
                <ion-card-content>
                    <h2>{{opportunity.account.companyName}}</h2>
                    <h4>{{opportunity.account.fullName}}</h4>
                        <p>{{opportunity.account.tel}}</p>
                        <p>{{opportunity.account.email}}</p>
                </ion-card-content>
            </ion-card>
        </ion-card>
    </ion-card>

    <!--ion-row>
        <ion-col text-center>
            <button list-item outline primary>
                Enregistrer
            </button>
        </ion-col>
    </ion-row-->

    <button fab fab-bottom fab-center (click)="createCompany()" [hidden]="accountFound">
        <ion-icon name="add"></ion-icon>
    </button>
</ion-content>
